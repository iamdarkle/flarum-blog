{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@v17development/flarum-blog/external assign \"flarum.extensions['fof-upload']\"","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/regenerator/index.js","webpack://@v17development/flarum-blog/webpack/bootstrap","webpack://@v17development/flarum-blog/webpack/runtime/compat get default export","webpack://@v17development/flarum-blog/webpack/runtime/define property getters","webpack://@v17development/flarum-blog/webpack/runtime/hasOwnProperty shorthand","webpack://@v17development/flarum-blog/webpack/runtime/make namespace object","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/app']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/Model']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/common/models/Tag']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/models/Discussion']\"","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['components/IndexPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Page']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Button']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/Component']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Link']\"","webpack://@v17development/flarum-blog/./src/forum/components/BlogCategories.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@v17development/flarum-blog/./src/forum/components/LanguageDropdown/Language.js","webpack://@v17development/flarum-blog/./src/forum/components/LanguageDropdown/LanguageDropdown.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/SelectDropdown']\"","webpack://@v17development/flarum-blog/./src/forum/components/ForumNav.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/humanTime']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@v17development/flarum-blog/./src/forum/components/BlogOverviewItem.tsx","webpack://@v17development/flarum-blog/./src/forum/components/FeaturedBlogItem.tsx","webpack://@v17development/flarum-blog/./src/forum/pages/BlogOverview.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/DiscussionPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/extend']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/mixin']\"","webpack://@v17development/flarum-blog/./src/common/Models/BlogMeta.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/components/TagsPage']\"","webpack://@v17development/flarum-blog/./src/forum/utils/extendTagOverview.js","webpack://@v17development/flarum-blog/./src/forum/utils/discussionRouting.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogAuthor.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@v17development/flarum-blog/./src/forum/components/Modals/RenameArticleModal.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/components/TagDiscussionModal']\"","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@v17development/flarum-blog/./src/forum/components/Modals/BlogPostSettingsModal.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/ComposerBody']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/TextEditor']\"","webpack://@v17development/flarum-blog/./src/forum/components/Composer/ComposerPreview.js","webpack://@v17development/flarum-blog/./src/forum/components/Composer/Composer.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogComposer.js","webpack://@v17development/flarum-blog/external assign \"flarum.core\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@v17development/flarum-blog/./src/forum/components/ArticleSubscription.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogItemSidebar.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/utils/DiscussionControls']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/EditPostComposer']\"","webpack://@v17development/flarum-blog/./src/forum/components/BlogPostController.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/CommentPost']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/PostStream']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/states/PostStreamState']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/fullTime']\"","webpack://@v17development/flarum-blog/./src/forum/pages/BlogItem.js","webpack://@v17development/flarum-blog/./src/forum/compat.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@v17development/flarum-blog/./src/forum/utils/addSidebarNav.js","webpack://@v17development/flarum-blog/./src/forum/index.ts","webpack://@v17development/flarum-blog/./src/forum/utils/redirector.js"],"sourcesContent":["module.exports = flarum.extensions['fof-upload'];","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw new Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/common/models/Tag'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/Discussion'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","import Component from 'flarum/common/Component';\r\nimport Link from 'flarum/common/components/Link';\r\n\r\nexport default class BlogCategories extends Component {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.blogCategories = app.forum.attribute('blogTags');\r\n  }\r\n\r\n  view() {\r\n    return (\r\n      <div className=\"BlogCategories BlogSideWidget\">\r\n        <h3>{app.translator.trans('v17development-flarum-blog.forum.categories')}</h3>\r\n\r\n        {this.blogCategories &&\r\n          this.blogCategories.map((tagId) => {\r\n            const tag = app.store.getById('tags', tagId);\r\n\r\n            if (!tag) return null;\r\n\r\n            const tags = [];\r\n            let showSubTags = this.blogCategories.length === 1 || tag.slug() === m.route.param('slug');\r\n\r\n            // Add tags\r\n            app.store.all('tags').forEach((_tag) => {\r\n              if (_tag.isChild() && _tag.parent() === tag) {\r\n                if (_tag.slug() === m.route.param('slug')) {\r\n                  showSubTags = true;\r\n                }\r\n\r\n                tags.push(this.categoryItem(_tag));\r\n              }\r\n            });\r\n\r\n            return showSubTags ? [this.categoryItem(tag), ...tags] : this.categoryItem(tag);\r\n          })}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Category item\r\n  categoryItem(tag) {\r\n    return (\r\n      <Link\r\n        href={app.route('blogCategory', { slug: tag.slug() })}\r\n        className={`BlogSideWidget-item BlogSideWidget-item-${tag.id()} ${\r\n          tag.isChild() && app.forum.attribute('blogCategoryHierarchy') == true ? 'BlogSideWidget-item-child' : ''\r\n        }`}\r\n      >\r\n        <span className={tag.icon() === '' ? 'BlogSideWidget-item-colored' : ''} style={{ backgroundColor: tag.icon() === '' ? tag.color() : null }}>\r\n          <i className={tag.icon()} />\r\n        </span>\r\n        {tag.name()}\r\n      </Link>\r\n    );\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Dropdown'];","import Component from 'flarum/common/Component';\r\n\r\nexport default class Language extends Component {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.languages = app.store.all('discussion-languages');\r\n    this.options = this.languages.reduce((o, lang) => {\r\n      o[lang.code()] = (\r\n        <span>\r\n          <i className={'fas fa-globe'} /> {lang.name()}\r\n        </span>\r\n      );\r\n\r\n      return o;\r\n    }, this.attrs.extra || {});\r\n  }\r\n\r\n  view() {\r\n    const { language, uppercase } = this.attrs;\r\n    const name = language.name() || '';\r\n\r\n    return (\r\n      <span>\r\n        <i className={'fas fa-globe'} />\r\n        &nbsp;\r\n        {uppercase ? name.toUpperCase() : name}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n","import Component from 'flarum/common/Component';\r\nimport Dropdown from 'flarum/common/components/Dropdown';\r\nimport Button from 'flarum/common/components/Button';\r\nimport Language from './Language';\r\n\r\nexport default class LanguageDropdown extends Component {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n    this.languages = app.store.all('discussion-languages');\r\n    this.options = this.languages.reduce((o, lang) => {\r\n      o[lang.code()] = <Language language={lang} />;\r\n\r\n      return o;\r\n    }, this.attrs.extra || {});\r\n  }\r\n\r\n  view() {\r\n    const selected = this.attrs.selected;\r\n\r\n    return Dropdown.component(\r\n      {\r\n        buttonClassName: 'Button',\r\n        label: this.options[selected] || this.options[this.attrs.default],\r\n      },\r\n      Object.keys(this.options).map((key) => {\r\n        let defaultSelected;\r\n        if (app.forum.attribute('fof-discussion-language.composerLocaleDefault')) {\r\n          defaultSelected = 'any';\r\n        } else {\r\n          defaultSelected = app.translator.formatter.locale;\r\n        }\r\n        const isSelected = selected || defaultSelected;\r\n        const active = key === isSelected;\r\n\r\n        return Button.component(\r\n          {\r\n            active,\r\n            icon: active ? 'fas fa-check' : true,\r\n            onclick: () => this.attrs.onclick(key),\r\n          },\r\n          this.options[key]\r\n        );\r\n      })\r\n    );\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/SelectDropdown'];","import Component from 'flarum/common/Component';\r\nimport IndexPage from 'flarum/forum/components/IndexPage';\r\nimport SelectDropdown from 'flarum/common/components/SelectDropdown';\r\n\r\nexport default class ForumNav extends Component {\r\n  view() {\r\n    return (\r\n      <div className=\"BlogForumNav BlogSideWidget\">\r\n        <h3>{app.translator.trans('v17development-flarum-blog.forum.forum_nav')}</h3>\r\n        <nav className=\"IndexPage-nav sideNav\">\r\n          <SelectDropdown buttonClassName=\"Button\" className=\"App-titleControl\">\r\n            {this.navItems().toArray()}\r\n          </SelectDropdown>\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  navItems() {\r\n    return IndexPage.prototype.navItems();\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Tooltip'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/humanTime'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","import Component from 'flarum/common/Component';\r\nimport Link from 'flarum/common/components/Link';\r\nimport Tooltip from 'flarum/common/components/Tooltip';\r\nimport humanTime from 'flarum/common/helpers/humanTime';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport Discussion from 'flarum/common/models/Discussion';\r\nimport classList from 'flarum/common/utils/classList';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport app from 'flarum/forum/app';\r\nimport type Mithril from 'mithril';\r\n\r\ninterface Attrs {\r\n  article: Discussion;\r\n  defaultImage: string;\r\n}\r\n\r\nexport default class BlogOverviewItem extends Component<Attrs> {\r\n  titleItems(): ItemList<Mithril.Children> {\r\n    const { article } = this.attrs;\r\n\r\n    const items = new ItemList<Mithril.Children>();\r\n\r\n    items.add('title', <>{article.title()}</>, 100);\r\n\r\n    if (article.blogMeta()?.isPendingReview?.() || article.isHidden()) {\r\n      items.add('hidden', icon('fas fa-eye-slash', { class: 'BlogList-item-hidden' }), 80);\r\n    }\r\n\r\n    if (article.blogMeta()?.isPendingReview?.()) {\r\n      items.add(\r\n        'pendingReview',\r\n        <Tooltip text={app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')}>\r\n          {icon('far fa-clock', { class: 'BlogList-item-pendingReview' })}\r\n        </Tooltip>,\r\n        40\r\n      );\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  dataItems(): ItemList<Mithril.Children> {\r\n    const { article } = this.attrs;\r\n\r\n    const items = new ItemList<Mithril.Children>();\r\n\r\n    items.add(\r\n      'createdAt',\r\n      <span class=\"BlogList-item-details-createdAt\">\r\n        {icon('far fa-clock')} {humanTime(article.createdAt())}\r\n      </span>,\r\n      100\r\n    );\r\n\r\n    items.add(\r\n      'author',\r\n      <span class=\"BlogList-item-details-author\">\r\n        {icon('far fa-user')} {article.user()?.displayName?.() || app.translator.trans('core.lib.username.deleted_text')}\r\n      </span>,\r\n      80\r\n    );\r\n\r\n    items.add(\r\n      'replies',\r\n      <span class=\"BlogList-item-details-replies\">\r\n        {icon('far fa-comment')} {(article.commentCount() || 1) - 1}\r\n      </span>,\r\n      60\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  contentItems(): ItemList<Mithril.Children> {\r\n    const { article } = this.attrs;\r\n    const summary = article.blogMeta()?.summary?.() || '';\r\n\r\n    const items = new ItemList<Mithril.Children>();\r\n\r\n    items.add('title', <h4>{this.titleItems().toArray()}</h4>, 100);\r\n\r\n    if (summary) items.add('summary', <p>{summary}</p>, 80);\r\n\r\n    items.add('data', <div class=\"data\">{this.dataItems().toArray()}</div>, 60);\r\n\r\n    return items;\r\n  }\r\n\r\n  getImage(): string {\r\n    const { article, defaultImage } = this.attrs;\r\n\r\n    return article.blogMeta()?.featuredImage?.() ? `url(${article.blogMeta().featuredImage()})` : defaultImage;\r\n  }\r\n\r\n  view(vnode: Mithril.Vnode<Attrs, this>) {\r\n    const { article, defaultImage } = this.attrs;\r\n\r\n    const blogImage = this.getImage();\r\n\r\n    const isSized = article.blogMeta()?.isSized?.();\r\n\r\n    return (\r\n      <Link\r\n        href={app.route('blogArticle', {\r\n          id: `${article.slug()}`,\r\n        })}\r\n        className={classList(\r\n          'BlogList-item',\r\n          {\r\n            'BlogList-item-sized': isSized,\r\n            'BlogList-item-default': !isSized,\r\n          },\r\n          article.tags().map((tag) => `BlogList-item-category-${tag.id()}`)\r\n        )}\r\n      >\r\n        <div\r\n          class={classList('BlogList-item-photo', {\r\n            'FlarumBlog-default-image': blogImage === defaultImage,\r\n          })}\r\n          style={{ backgroundImage: blogImage }}\r\n        />\r\n\r\n        <div class=\"BlogList-item-content\">{this.contentItems().toArray()}</div>\r\n      </Link>\r\n    );\r\n  }\r\n}\r\n","import Component from 'flarum/common/Component';\r\nimport Link from 'flarum/common/components/Link';\r\nimport Tooltip from 'flarum/common/components/Tooltip';\r\nimport humanTime from 'flarum/common/helpers/humanTime';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport Discussion from 'flarum/common/models/Discussion';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport classList from 'flarum/common/utils/classList';\r\nimport app from 'flarum/forum/app';\r\nimport type Mithril from 'mithril';\r\n\r\ninterface Attrs {\r\n  article: Discussion;\r\n  defaultImage: string;\r\n}\r\n\r\nexport default class FeaturedBlogItem extends Component<Attrs> {\r\n  topItems(): ItemList<Mithril.Children> {\r\n    const { article } = this.attrs;\r\n\r\n    const items = new ItemList<Mithril.Children>();\r\n\r\n    items.add(\r\n      'tags',\r\n      <span class=\"BlogFeatured-list-item-tags\">\r\n        {article.tags()?.map((tag) => (\r\n          <span class=\"dataItem\">{tag.name()}</span>\r\n        ))}\r\n      </span>,\r\n      100\r\n    );\r\n\r\n    // Sticky is an optional dependency, so we can't\r\n    // assume method existence.\r\n    if (article.isSticky?.()) {\r\n      items.add('sticky', <span class=\"BlogFeatured-list-item-isSticky dataItem\">{icon('fas fa-thumbtack')}</span>, 80);\r\n    }\r\n\r\n    if (article.blogMeta()?.isPendingReview?.() || article.isHidden()) {\r\n      items.add('hidden', <span class=\"BlogFeatured-list-item-isHidden dataItem\">{icon('fas fa-eye-slash')}</span>, 60);\r\n    }\r\n\r\n    if (article.blogMeta()?.isPendingReview?.()) {\r\n      items.add(\r\n        'pendingReview',\r\n        <Tooltip text={app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')} position=\"bottom\">\r\n          <span class=\"BlogFeatured-list-item-pendingReview dataItem\">\r\n            {icon('far fa-clock')} {app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review_title')}\r\n          </span>\r\n        </Tooltip>,\r\n        40\r\n      );\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  dataItems(): ItemList<Mithril.Children> {\r\n    const { article } = this.attrs;\r\n\r\n    const items = new ItemList<Mithril.Children>();\r\n\r\n    items.add(\r\n      'createdAt',\r\n      <span class=\"BlogFeatured-list-item-details-createdAt\">\r\n        {icon('far fa-clock')} {humanTime(article.createdAt())}\r\n      </span>,\r\n      100\r\n    );\r\n\r\n    items.add(\r\n      'author',\r\n      <span class=\"BlogFeatured-list-item-details-author\">\r\n        {icon('far fa-user')} {article.user()?.displayName() || app.translator.trans('core.lib.username.deleted_text')}\r\n      </span>,\r\n      80\r\n    );\r\n\r\n    items.add(\r\n      'replies',\r\n      <span class=\"BlogFeatured-list-item-details-replies\">\r\n        {icon('far fa-comment')} {article.commentCount() - 1}\r\n      </span>,\r\n      60\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  view(vnode: Mithril.Vnode<Attrs, this>) {\r\n    const { article, defaultImage } = this.attrs;\r\n\r\n    const blogImage = article.blogMeta()?.featuredImage?.() ? `url(${article.blogMeta().featuredImage()})` : defaultImage;\r\n\r\n    return (\r\n      <Link\r\n        href={app.route('blogArticle', {\r\n          id: `${article.slug()}`,\r\n        })}\r\n        className={classList(\r\n          'BlogFeatured-list-item',\r\n          article.tags().map((tag) => `BlogFeatured-list-item-category-${tag.id()}`),\r\n          'FlarumBlog-default-image'\r\n        )}\r\n        style={{ backgroundImage: ('/cdn-cgi/image/width=800/').blogImage }}\r\n      >\r\n        <div class=\"BlogFeatured-list-item-top\">{this.topItems().toArray()}</div>\r\n\r\n        <div className={'BlogFeatured-list-item-details'}>\r\n          <h4>{article.title()}</h4>\r\n\r\n          <div className={'data'}>{this.dataItems().toArray()}</div>\r\n        </div>\r\n      </Link>\r\n    );\r\n  }\r\n}\r\n","import app from 'flarum/forum/app';\r\n\r\nimport IndexPage from 'flarum/components/IndexPage';\r\nimport Page from 'flarum/common/components/Page';\r\nimport Button from 'flarum/common/components/Button';\r\nimport BlogCategories from '../components/BlogCategories';\r\nimport Link from 'flarum/common/components/Link';\r\nimport LanguageDropdown from '../components/LanguageDropdown/LanguageDropdown';\r\nimport ForumNav from '../components/ForumNav';\r\nimport BlogOverviewItem from '../components/BlogOverviewItem';\r\nimport FeaturedBlogItem from '../components/FeaturedBlogItem';\r\n\r\nexport default class BlogOverview extends Page {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\r\n\r\n    this.bodyClass = 'BlogOverviewPage';\r\n\r\n    this.isLoading = true;\r\n    this.featuredPosts = [];\r\n    this.posts = [];\r\n    this.hasMore = null;\r\n    this.isLoadingMore = false;\r\n\r\n    this.languages = app.store.all('discussion-languages');\r\n\r\n    this.currentSelectedLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.formatter.locale;\r\n\r\n    // Send history push\r\n    app.history.push('blog');\r\n\r\n    this.loadBlogOverview();\r\n\r\n    this.featuredCount = parseInt(app.forum.attribute('blogFeaturedCount'));\r\n\r\n    this.showCategories = true;\r\n    this.showForumNav = true;\r\n  }\r\n\r\n  // Load blog overview\r\n  loadBlogOverview() {\r\n    const preloadBlogOverview = app.preloadedApiDocument();\r\n\r\n    if (preloadBlogOverview) {\r\n      // We must wrap this in a setTimeout because if we are mounting this\r\n      // component for the first time on page load, then any calls to m.redraw\r\n      // will be ineffective and thus any configs (scroll code) will be run\r\n      // before stuff is drawn to the page.\r\n      setTimeout(this.show.bind(this, preloadBlogOverview), 0);\r\n    } else {\r\n      this.reloadData();\r\n    }\r\n\r\n    m.redraw();\r\n  }\r\n\r\n  reloadData() {\r\n    let q = `is:blog${m.route.param('slug') ? ` tag:${m.route.param('slug')}` : ''}`;\r\n\r\n    if (this.languages !== null && this.languages.length >= 1) {\r\n      q += ` language:${this.currentSelectedLanguage}`;\r\n    }\r\n\r\n    app.store\r\n      .find('discussions', {\r\n        filter: {\r\n          q,\r\n        },\r\n        sort: '-createdAt',\r\n      })\r\n      .then(this.show.bind(this))\r\n      .catch(() => {\r\n        m.redraw();\r\n      });\r\n  }\r\n\r\n  // Show blog posts\r\n  show(articles) {\r\n    if (articles.length === 0) {\r\n      this.isLoading = false;\r\n      m.redraw();\r\n\r\n      return;\r\n    }\r\n\r\n    // Set pagination\r\n    this.hasMore = articles.payload.links && articles.payload.links.next ? articles.payload.links.next : null;\r\n\r\n    this.featuredPosts = articles.slice(0, this.featuredCount);\r\n    this.posts = articles.length > this.featuredCount ? articles.slice(this.featuredCount, articles.length) : [];\r\n\r\n    this.isLoading = false;\r\n\r\n    m.redraw();\r\n  }\r\n\r\n  // Load more blog posts\r\n  loadMore() {\r\n    this.isLoadingMore = true;\r\n\r\n    app.store\r\n      .find(this.hasMore.replace(app.forum.attribute('apiUrl'), ''))\r\n      .then((data) => {\r\n        data.map((article) => this.posts.push(article));\r\n\r\n        // Update hasmore button\r\n        this.hasMore = data.payload.links && data.payload.links.next ? data.payload.links.next : null;\r\n      })\r\n      .catch(() => {})\r\n      .then(() => {\r\n        this.isLoadingMore = false;\r\n        m.redraw();\r\n      });\r\n  }\r\n\r\n  title() {\r\n    if (!m.route.param('slug')) {\r\n      return <h2>{app.translator.trans('v17development-flarum-blog.forum.recent_posts')}</h2>;\r\n    }\r\n\r\n    const tag = app.store.all('tags').filter((tag) => tag.slug() === m.route.param('slug'));\r\n\r\n    return (\r\n      <h2>\r\n        {tag && tag[0] && tag[0].name()}\r\n        <small>\r\n          {' '}\r\n          - <Link href={app.route('blog')}>{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</Link>\r\n        </small>\r\n      </h2>\r\n    );\r\n  }\r\n\r\n  view() {\r\n    const defaultImage = app.forum.attribute('blogDefaultImage')\r\n      ? `url(${app.forum.attribute('baseUrl') + '/assets/' + app.forum.attribute('blogDefaultImage')})`\r\n      : null;\r\n\r\n    return [\r\n      app.forum.attribute('blogAddHero') == true && IndexPage.prototype.hero(),\r\n      <div className={'FlarumBlogOverview'}>\r\n        <div className={'container'}>\r\n          <div className={'BlogFeatured'}>\r\n            <div className={'BlogOverviewButtons'}>\r\n              {app.forum.attribute('canWriteBlogPosts') && (\r\n                <Button className={'Button'} onclick={() => this.newArticle()} icon={'fas fa-pencil-alt'}>\r\n                  {app.translator.trans('v17development-flarum-blog.forum.compose.write_article')}\r\n                </Button>\r\n              )}\r\n\r\n              {this.languages !== null && this.languages.length >= 1 && (\r\n                <LanguageDropdown\r\n                  selected={this.currentSelectedLanguage}\r\n                  onclick={(language) => {\r\n                    this.currentSelectedLanguage = language;\r\n\r\n                    m.route.set(document.location.pathname, {\r\n                      lang: language,\r\n                    });\r\n\r\n                    this.reloadData();\r\n                  }}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            {this.title()}\r\n\r\n            <div style={{ clear: 'both' }} />\r\n\r\n            <div class=\"BlogFeatured-list\">\r\n              {/* Ghost data */}\r\n              {this.isLoading &&\r\n                [...new Array(this.featuredCount).fill(undefined)].map(() => (\r\n                  <div class=\"BlogFeatured-list-item BlogFeatured-list-item-ghost\">\r\n                    <div class=\"BlogFeatured-list-item-details\">\r\n                      <h4>&nbsp;</h4>\r\n\r\n                      <div class=\"data\">\r\n                        <span>\r\n                          <i class=\"far fa-wave\" />\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n\r\n              {!this.isLoading &&\r\n                this.featuredPosts.length >= 0 &&\r\n                this.featuredPosts.map((article) => <FeaturedBlogItem article={article} defaultImage={defaultImage} />)}\r\n            </div>\r\n          </div>\r\n\r\n          <div className={'BlogScrubber'}>\r\n            <div className={'BlogList'}>\r\n              {this.isLoading &&\r\n                [false, false, true, false].map((state) => {\r\n                  return (\r\n                    <div className={`BlogList-item BlogList-item-${state === true ? 'sized' : 'default'} BlogList-item-ghost`}>\r\n                      <div className={'BlogList-item-photo FlarumBlog-default-image'}></div>\r\n                      <div className={'BlogList-item-content'}>\r\n                        <h4>&nbsp;</h4>\r\n                        <p>&nbsp;</p>\r\n\r\n                        <div className={'data'}>\r\n                          <span>\r\n                            <i className={'far fa-wave'} />\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n\r\n              {!this.isLoading &&\r\n                this.posts.length >= 1 &&\r\n                this.posts.map((article) => <BlogOverviewItem article={article} defaultImage={defaultImage} />)}\r\n\r\n              {!this.isLoading && this.featuredPosts.length > 0 && this.hasMore === null && (\r\n                <p className={'FlarumBlog-reached-end'}>{app.translator.trans('v17development-flarum-blog.forum.no_more_posts')}</p>\r\n              )}\r\n\r\n              {!this.isLoading && this.featuredPosts.length === 0 && this.posts.length === 0 && (\r\n                <p className={'FlarumBlog-reached-end'}>{app.translator.trans('v17development-flarum-blog.forum.category_empty')}</p>\r\n              )}\r\n\r\n              {!this.isLoading && this.hasMore !== null && (\r\n                <div className={'FlarumBlog-reached-load-more'}>\r\n                  <Button className={'Button'} onclick={() => this.loadMore()} icon={'fas fa-chevron-down'} loading={this.isLoadingMore}>\r\n                    {app.translator.trans('core.forum.discussion_list.load_more_button')}\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className={'Sidebar'}>\r\n              {this.showCategories && <BlogCategories />}\r\n              {this.showForumNav && <ForumNav />}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>,\r\n    ];\r\n  }\r\n\r\n  newArticle() {\r\n    let tags = [];\r\n\r\n    // Get current category\r\n    const currentCategory = app.store.getBy('tags', 'slug', m.route.param('slug'));\r\n\r\n    if (currentCategory) {\r\n      tags.push(currentCategory);\r\n    }\r\n\r\n    // Redirect to the composer\r\n    m.route.set(\r\n      app.route('blogComposer', {\r\n        tags: tags.map((tag) => tag.id()).join(),\r\n        lang: this.languages.length > 0 ? this.currentSelectedLanguage : undefined,\r\n      })\r\n    );\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/mixin'];","import Model from 'flarum/common/Model';\r\nimport mixin from 'flarum/common/utils/mixin';\r\n\r\nexport default class BlogMeta extends mixin(Model, {\r\n  discussion: Model.hasOne('discussion'),\r\n  featuredImage: Model.attribute('featuredImage'),\r\n  summary: Model.attribute('summary'),\r\n  isFeatured: Model.attribute('isFeatured'),\r\n  isSized: Model.attribute('isSized'),\r\n  isPendingReview: Model.attribute('isPendingReview'),\r\n}) {}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/components/TagsPage'];","import { extend } from 'flarum/common/extend';\r\nimport IndexPage from 'flarum/forum/components/IndexPage';\r\nimport TagsPage from 'flarum/tags/components/TagsPage';\r\n\r\nexport default function extendTagOverview() {\r\n  extend(TagsPage.prototype, 'view', function (markup) {\r\n    // Pending xhr to load all tags, throw back loading indicator.\r\n    if (this.loading) {\r\n      return markup;\r\n    }\r\n\r\n    if (app.forum.attribute('blogHideTags') == false) return markup;\r\n\r\n    // Get blog tag ID's\r\n    const blogTags = app.forum.attribute('blogTags') || [];\r\n\r\n    const tag_tiles_parent = findChild(markup, 'TagsPage-content', true);\r\n    const tag_tiles = tag_tiles_parent?.children[0];\r\n\r\n    if (!tag_tiles_parent || !tag_tiles) return markup;\r\n\r\n    // Map through the tiles and remove tiles that are part of the blog\r\n    tag_tiles.children = tag_tiles.children.map((tile, i) => {\r\n      return blogTags.indexOf(this.tags[i].id()) >= 0 ? null : tile;\r\n    });\r\n\r\n    return markup;\r\n  });\r\n\r\n  extend(IndexPage.prototype, 'navItems', function (items) {\r\n    if (app.forum.attribute('blogHideTags') == false) return items;\r\n\r\n    const blogTags = app.forum.attribute('blogTags') || [];\r\n\r\n    blogTags.forEach((id) => {\r\n      items.remove(`tag${id}`);\r\n    });\r\n\r\n    return items;\r\n  });\r\n}\r\n\r\nfunction findChild(parent, childClass, recursive = false, maxDepth = 50, depth = 0) {\r\n  const children = getChildren(parent);\r\n  let child = null;\r\n\r\n  for (let i = 0; i < children.length; i++) {\r\n    const childClassName = children[i]?.attrs?.className || '';\r\n    if (childClassName.includes(childClass)) {\r\n      child = children[i];\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Recursive search\r\n  if (recursive && !child && depth < maxDepth) {\r\n    for (let subParent of children) {\r\n      const subChild = findChild(subParent, childClass, true, maxDepth, depth + 1);\r\n      if (subChild) {\r\n        return subChild;\r\n      }\r\n    }\r\n  }\r\n\r\n  return child;\r\n}\r\n\r\nfunction getChildren(parent) {\r\n  if (Array.isArray(parent)) {\r\n    return parent;\r\n  }\r\n  const children = parent?.children || [];\r\n  if (!Array.isArray(children)) {\r\n    return [];\r\n  }\r\n  return children;\r\n}\r\n","export default function () {\r\n  // Save the original function before we override it\r\n  const original_discussion_route = app.route.discussion;\r\n\r\n  /**\r\n   * Generate a URL to a discussion OR a Blog Article.\r\n   *\r\n   * CORE_CODE_OVERRIDE: This overrides the standard function from flarum/core.\r\n   * The code is inspired from js/src/forum/routes.js and now handles different types of discussions.\r\n   * It will try to keep the original function executed if the discussion being\r\n   * processed isn't a blog article.\r\n   *\r\n   * @param {Discussion} discussion\r\n   * @param {Integer} [near]\r\n   * @return {String}\r\n   */\r\n  app.route.discussion = (discussion, near) => {\r\n    const discussionRedirectEnabled =\r\n      app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\r\n    let shouldRedirect = false;\r\n    if (discussionRedirectEnabled && discussion.tags().length > 0) {\r\n      const blogTags = app.forum.attribute('blogTags');\r\n\r\n      const foundTags = discussion.tags().filter((tag) => {\r\n        return blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0);\r\n      });\r\n\r\n      if (foundTags.length > 0) {\r\n        shouldRedirect = true;\r\n      }\r\n    }\r\n    if (shouldRedirect) {\r\n      return discussion.lastReadPostNumber() > 1\r\n        ? app.route('blogArticle.near', {\r\n            id: discussion.slug(),\r\n            near: discussion.lastReadPostNumber(),\r\n          })\r\n        : app.route('blogArticle', {\r\n            id: discussion.slug(),\r\n          });\r\n    } else {\r\n      return original_discussion_route(discussion, near);\r\n    }\r\n  };\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/avatar'];","import Component from 'flarum/common/Component';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport listItems from 'flarum/common/helpers/listItems';\r\nimport avatar from 'flarum/common/helpers/avatar';\r\nimport Link from 'flarum/common/components/Link';\r\n\r\nexport default class BlogAuthor extends Component {\r\n  view() {\r\n    const author = !this.attrs.loading ? (this.attrs.article ? this.attrs.article.user() : this.attrs.user) : null;\r\n\r\n    return (\r\n      <div className={'FlarumBlog-Article-Author'}>\r\n        <div\r\n          className={`FlarumBlog-Article-Author-background ${this.attrs.loading ? 'FlarumBlog-Author-Ghost' : ''}`}\r\n          style={{\r\n            backgroundColor: author && author.color() ? author.color() : null,\r\n          }}\r\n        />\r\n\r\n        <div className={'FlarumBlog-Article-Author-Avatar'}>\r\n          {author ? (\r\n            <Link href={app.route('user', { username: author.username() })}>{avatar(author)}</Link>\r\n          ) : (\r\n            <span className={'Avatar FlarumBlog-Author-Ghost'} />\r\n          )}\r\n        </div>\r\n\r\n        {author && (\r\n          <div className={'FlarumBlog-Article-Author-Info'}>\r\n            <Link href={app.route('user', { username: author.username() })} className={'FlarumBlog-Article-Author-Name'}>\r\n              {author.displayName()}\r\n            </Link>\r\n            <p className={'FlarumBlog-Article-Author-Bio'}>{author.bio && author.bio()}</p>\r\n\r\n            <ul className={'FlarumBlog-Article-Author-Extended'}>{listItems(this.items().toArray())}</ul>\r\n          </div>\r\n        )}\r\n\r\n        {this.attrs.loading && (\r\n          <div>\r\n            <span className={'FlarumBlog-Article-Author-Name FlarumBlog-Author-Ghost'}>&nbsp;</span>\r\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\r\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\r\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  items() {\r\n    return new ItemList();\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","import Modal from 'flarum/common/components/Modal';\r\nimport Button from 'flarum/common/components/Button';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport Stream from 'flarum/common/utils/Stream';\r\n\r\nexport default class RenameArticleModal extends Modal {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.article = this.attrs.article;\r\n\r\n    this.name = Stream(this.article.title() || '');\r\n\r\n    this.redirect = this.attrs.redirect;\r\n  }\r\n\r\n  className() {\r\n    return 'Modal--small Support-Modal';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('v17development-flarum-blog.forum.tools.rename_article');\r\n  }\r\n\r\n  content() {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">{this.fields().toArray()}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  fields() {\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'name',\r\n      <div className=\"Form-group\">\r\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article.title')}:</label>\r\n        <input className=\"FormControl\" placeholder={app.translator.trans('v17development-flarum-blog.forum.article.title')} bidi={this.name} />\r\n      </div>,\r\n      50\r\n    );\r\n\r\n    items.add(\r\n      'submit',\r\n      <div className=\"Form-group\">\r\n        {Button.component(\r\n          {\r\n            type: 'submit',\r\n            className: 'Button Button--primary SupportModal-save',\r\n            loading: this.loading,\r\n          },\r\n          app.translator.trans('core.forum.composer_edit.submit_button')\r\n        )}\r\n      </div>,\r\n      -10\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  submitData() {\r\n    return {\r\n      title: this.name(),\r\n    };\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.loading = true;\r\n\r\n    // Do not save\r\n    if (this.attrs.onChange) {\r\n      this.attrs.onChange(this.name());\r\n      this.hide();\r\n\r\n      return;\r\n    }\r\n\r\n    this.article\r\n      .save({\r\n        title: this.name(),\r\n      })\r\n      .then(\r\n        () => {\r\n          this.hide();\r\n\r\n          // Redirect\r\n          if (this.redirect) {\r\n            const url = `/blog/${this.article.slug()}`;\r\n\r\n            m.route.set(url, true);\r\n            window.history.replaceState(null, document.title, url);\r\n          }\r\n        },\r\n        (response) => {\r\n          this.loading = false;\r\n          this.handleErrors(response);\r\n        }\r\n      );\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/components/TagDiscussionModal'];","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","import app from 'flarum/forum/app';\r\nimport Modal from 'flarum/common/components/Modal';\r\nimport Button from 'flarum/common/components/Button';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport Stream from 'flarum/common/utils/Stream';\r\nimport Switch from 'flarum/common/components/Switch';\r\nimport selectFiles from '../../utils/selectFiles';\r\n\r\nexport default class BlogPostSettingsModal extends Modal {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    if (this.attrs.article) {\r\n      this.meta = this.attrs.article && this.attrs.article.blogMeta() ? this.attrs.article.blogMeta() : app.store.createRecord('blogMeta');\r\n    } else {\r\n      this.meta = this.attrs.meta ? this.attrs.meta : app.store.createRecord('blogMeta');\r\n    }\r\n\r\n    this.isNew = !this.meta.exists;\r\n\r\n    this.summary = Stream(this.meta.summary() || '');\r\n\r\n    this.featuredImage = Stream(this.meta.featuredImage() || '');\r\n\r\n    this.isFeatured = Stream(this.meta.isFeatured() || false);\r\n    this.isSized = Stream(this.meta.isSized() || false);\r\n    this.isPendingReview = Stream(this.meta.isPendingReview() || false);\r\n  }\r\n\r\n  className() {\r\n    return 'Modal--small Support-Modal';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('v17development-flarum-blog.forum.article_settings.title');\r\n  }\r\n\r\n  content() {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">{this.fields().toArray()}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  fields() {\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'summary',\r\n      <div className=\"Form-group\">\r\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.title')}:</label>\r\n        <textarea\r\n          className=\"FormControl\"\r\n          style={{\r\n            maxWidth: '100%',\r\n            minWidth: '100%',\r\n            width: '100%',\r\n            minHeight: '120px',\r\n          }}\r\n          bidi={this.summary}\r\n          placeholder={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.placeholder')}\r\n        />\r\n\r\n        <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.helper_text')}</small>\r\n      </div>,\r\n      30\r\n    );\r\n\r\n    let fofUploadButton = null;\r\n\r\n    if ('fof-upload' in flarum.extensions && app.forum.attribute('fof-upload.canUpload')) {\r\n      const {\r\n        components: { Uploader, FileManagerModal },\r\n      } = require('@fof-upload');\r\n\r\n      const uploader = new Uploader();\r\n\r\n      fofUploadButton = (\r\n        <Button\r\n          class=\"Button Button--icon\"\r\n          onclick={async () => {\r\n            app.modal.show(\r\n              FileManagerModal,\r\n              {\r\n                uploader: uploader,\r\n                onSelect: (files) => {\r\n                  const file = app.store.getById('files', files[0]);\r\n\r\n                  this.featuredImage(file.url());\r\n                },\r\n              },\r\n              true\r\n            );\r\n          }}\r\n          icon=\"fas fa-cloud-upload-alt\"\r\n        />\r\n      );\r\n    }\r\n\r\n    items.add(\r\n      'image',\r\n      <div className=\"Form-group V17Blog-ArticleImage\">\r\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.title')}:</label>\r\n        <div data-upload-enabled={!!fofUploadButton}>\r\n          <input type=\"text\" className=\"FormControl\" bidi={this.featuredImage} placeholder=\"https://\" />\r\n          {fofUploadButton}\r\n        </div>\r\n\r\n        <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.helper_text')}</small>\r\n\r\n        {this.featuredImage() !== '' && (\r\n          <img\r\n            src={this.featuredImage()}\r\n            alt=\"Article image\"\r\n            title={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.title')}\r\n            style={{ width: '100%', marginTop: '15px' }}\r\n          />\r\n        )}\r\n      </div>,\r\n      30\r\n    );\r\n\r\n    items.add(\r\n      'sized',\r\n      <div className=\"Form-group\">\r\n        {Switch.component(\r\n          {\r\n            state: this.isSized() == true,\r\n            onchange: (val) => {\r\n              this.isSized(val);\r\n            },\r\n          },\r\n          [\r\n            <b>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.highlight.title')}</b>,\r\n            <div className=\"helpText\" style={{ fontWeight: 500 }}>\r\n              {app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.highlight.helper_text')}\r\n            </div>,\r\n          ]\r\n        )}\r\n      </div>,\r\n      -10\r\n    );\r\n\r\n    items.add(\r\n      'submit',\r\n      <div className=\"Form-group\">\r\n        {Button.component(\r\n          {\r\n            type: 'submit',\r\n            className: 'Button Button--primary SupportModal-save',\r\n            loading: this.loading,\r\n          },\r\n          app.translator.trans('core.forum.composer_edit.submit_button')\r\n        )}\r\n      </div>,\r\n      -10\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  submitData() {\r\n    return {\r\n      summary: this.summary(),\r\n      featuredImage: this.featuredImage(),\r\n      isFeatured: this.isFeatured(),\r\n      isSized: this.isSized(),\r\n      isPendingReview: this.isPendingReview(),\r\n      relationships:\r\n        this.isNew && !this.attrs.isComposer\r\n          ? {\r\n              discussion: this.attrs.article,\r\n            }\r\n          : null,\r\n    };\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    // Submit data\r\n    if (this.attrs.onsubmit) {\r\n      // Update attributes\r\n      this.meta.pushData({\r\n        attributes: this.submitData(),\r\n      });\r\n\r\n      // Push\r\n      this.attrs.onsubmit(this.meta);\r\n\r\n      this.hide();\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n\r\n    this.meta.save(this.submitData()).then(\r\n      () => {\r\n        if (this.attrs.article) {\r\n          this.attrs.article.pushData({\r\n            relationships: {\r\n              blogMeta: this.meta,\r\n            },\r\n          });\r\n        }\r\n\r\n        this.hide();\r\n        m.redraw();\r\n      },\r\n      (response) => {\r\n        this.loading = false;\r\n        this.handleErrors(response);\r\n      }\r\n    );\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/ComposerBody'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/TextEditor'];","import Component from 'flarum/common/Component';\r\n\r\nexport default class ComposerPreview extends Component {\r\n  view() {\r\n    return <div />;\r\n  }\r\n\r\n  oncreate(vnode) {\r\n    super.oncreate(vnode);\r\n\r\n    s9e.TextFormatter.preview(vnode.attrs.content || '', vnode.dom);\r\n  }\r\n}\r\n","import ComposerBody from 'flarum/forum/components/ComposerBody';\r\nimport Button from 'flarum/common/components/Button';\r\nimport TextEditor from 'flarum/common/components/TextEditor';\r\nimport ComposerPreview from './ComposerPreview';\r\nimport app from 'flarum/forum/app';\r\n\r\nexport default class Composer extends ComposerBody {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.previewContent = false;\r\n  }\r\n\r\n  // Render\r\n  view() {\r\n    const hasContent = this.composer.fields.content() && this.composer.fields.content() !== '';\r\n    const loading = this.loading || this.attrs.disabled;\r\n\r\n    return (\r\n      <div className={`Flarum-Blog-Composer ${loading ? 'Flarum-Blog-Composer-Loading' : ''}`}>\r\n        <div className={'Flarum-Blog-Composer-tabs'}>\r\n          <Button className={!this.previewContent && 'AricleComposerButtonSelected'} onclick={() => (this.previewContent = false)}>\r\n            {app.translator.trans('v17development-flarum-blog.forum.composer.write')}\r\n          </Button>\r\n          <Button className={this.previewContent && 'AricleComposerButtonSelected'} onclick={() => (this.previewContent = true)}>\r\n            {app.translator.trans('v17development-flarum-blog.forum.composer.view')}\r\n          </Button>\r\n        </div>\r\n\r\n        <div className={`Composer Flarum-Blog-Composer-body ${this.previewContent ? 'Flarum-Blog-Composer-HideEditor' : ''}`}>\r\n          {this.previewContent && (\r\n            <div className={'Flarum-Blog-Composer-preview'}>\r\n              {!hasContent && app.translator.trans('v17development-flarum-blog.forum.composer.nothing_to_preview')}\r\n\r\n              <ComposerPreview content={this.composer.fields.content()} />\r\n            </div>\r\n          )}\r\n\r\n          {TextEditor.component({\r\n            submitLabel: this.attrs.submitLabel || app.translator.trans('core.forum.composer_edit.submit_button'),\r\n            placeholder: this.attrs.placeholder,\r\n            disabled: loading,\r\n            composer: this.composer,\r\n            preview: this.jumpToPreview && this.jumpToPreview.bind(this),\r\n            onchange: this.composer.fields.content,\r\n            onsubmit: this.onsubmit.bind(this),\r\n            value: this.composer.fields.content(),\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Submit trigger\r\n  onsubmit() {\r\n    if (this.attrs.onsubmit) {\r\n      this.attrs.onsubmit();\r\n    }\r\n  }\r\n}\r\n","import app from 'flarum/forum/app';\r\nimport Page from 'flarum/common/components/Page';\r\nimport Button from 'flarum/common/components/Button';\r\nimport Link from 'flarum/common/components/Link';\r\nimport BlogAuthor from '../components/BlogItemSidebar/BlogAuthor';\r\nimport RenameArticleModal from '../components/Modals/RenameArticleModal';\r\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\r\nimport BlogPostSettingsModal from '../components/Modals/BlogPostSettingsModal';\r\nimport Composer from '../components/Composer/Composer';\r\nimport LanguageDropdown from '../components/LanguageDropdown/LanguageDropdown';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\n\r\nexport default class BlogComposer extends Page {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\r\n\r\n    // User cannot write blogs\r\n    if (!app.forum.attribute('canWriteBlogPosts')) {\r\n      m.route.set(app.route('blog'));\r\n      return;\r\n    }\r\n\r\n    // Send history push\r\n    app.history.push('blogComposer');\r\n\r\n    // Get languages (if enabled)\r\n    this.languages = app.store.all('discussion-languages') || [];\r\n\r\n    // Set body class\r\n    this.bodyClass = 'BlogItemPage BlogItemPage--composer';\r\n\r\n    // Article data\r\n    this.articleLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.locale;\r\n    this.article = app.store.createRecord('discussions');\r\n    this.blogMeta = null;\r\n\r\n    this.tags = [];\r\n\r\n    // Pre-select tags\r\n    if (m.route.param().tags) {\r\n      const tagList = Array.isArray(m.route.param().tags) ? m.route.param().tags : m.route.param().tags.split(',');\r\n\r\n      if (m.route.param().tags.length > 0) {\r\n        tagList.forEach((tagId) => {\r\n          const foundTag = app.store.getById('tags', tagId);\r\n\r\n          if (foundTag) {\r\n            this.tags.push(foundTag);\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    this.isSaving = false;\r\n  }\r\n\r\n  openTagsModal(e = null) {\r\n    if (e) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    if (this.isSaving) return;\r\n\r\n    app.modal.show(TagDiscussionModal, {\r\n      selectedTags: this.tags,\r\n      onsubmit: (tags) => {\r\n        this.tags = tags;\r\n      },\r\n    });\r\n  }\r\n\r\n  openNameArticleModal(e = null) {\r\n    if (e) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    if (this.isSaving) return;\r\n\r\n    app.modal.show(RenameArticleModal, {\r\n      article: this.article,\r\n      onChange: (title) => {\r\n        this.article.pushData({\r\n          attributes: {\r\n            title,\r\n          },\r\n        });\r\n      },\r\n    });\r\n  }\r\n\r\n  openBlogSettings(e) {\r\n    e.preventDefault();\r\n\r\n    if (this.isSaving) return;\r\n\r\n    app.modal.show(BlogPostSettingsModal, {\r\n      meta: this.blogMeta,\r\n      onsubmit: (meta) => (this.blogMeta = meta),\r\n    });\r\n  }\r\n\r\n  view() {\r\n    return (\r\n      <div className={'FlarumBlogItem'}>\r\n        <div className={'container'}>{this.pageItems().toArray()}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  pageItems() {\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'toolButtons',\r\n      <div className=\"FlarumBlog-ToolButtons\">\r\n        <Link href={app.route('blog')} className=\"Button\" loading={this.isSaving} icon=\"fas fa-angle-left\">\r\n          <i class=\"icon fas fa-angle-left Button-icon\" />\r\n          <span class=\"Button-label\">{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</span>\r\n        </Link>\r\n      </div>,\r\n      100\r\n    );\r\n\r\n    items.add('article', <div className={'FlarumBlog-Article'}>{this.articleWrapperItems().toArray()}</div>, 90);\r\n\r\n    return items;\r\n  }\r\n\r\n  articleWrapperItems() {\r\n    const items = new ItemList();\r\n\r\n    items.add('container', <div className=\"FlarumBlog-Article-Container\">{this.articleItems().toArray()}</div>, 100);\r\n\r\n    items.add(\r\n      'sidebar',\r\n      <div className=\"FlarumBlog-Article-Sidebar\">\r\n        <BlogAuthor user={app.session.user} />\r\n      </div>,\r\n      90\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  articleItems() {\r\n    const items = new ItemList();\r\n\r\n    const defaultImage = app.forum.attribute('blogDefaultImage')\r\n      ? `url(${app.forum.attribute('baseUrl') + '/assets/' + app.forum.attribute('blogDefaultImage')})`\r\n      : null;\r\n\r\n    const blogImage = this.blogMeta && this.blogMeta.featuredImage() ? `url(${this.blogMeta.featuredImage()})` : defaultImage;\r\n\r\n    items.add(\r\n      'content',\r\n      <div className=\"FlarumBlog-Article-Content\">\r\n        <div\r\n          className={`FlarumBlog-Article-Image FlarumBlog-default-image`}\r\n          style={{\r\n            backgroundImage: blogImage,\r\n            cursor: 'pointer',\r\n          }}\r\n          onclick={(e) => this.openBlogSettings(e)}\r\n        />\r\n\r\n        <div className={'FlarumBlog-Article-Content-Edit-Button'}>\r\n          <div className={this.languages.length === 0 ? 'FlarumBlog-Article-Content-Edit-Dropdown' : 'FlarumBlog-Article-Content-EditButtons'}>\r\n            {this.languages !== null && this.languages.length >= 1 && (\r\n              <LanguageDropdown selected={this.articleLanguage} onclick={(language) => (this.articleLanguage = language)} />\r\n            )}\r\n\r\n            <Button className={'Button'} onclick={(e) => this.openBlogSettings(e)} icon={'fas fa-pencil-alt'} loading={this.isSaving}>\r\n              {app.translator.trans('v17development-flarum-blog.forum.composer.update_settings')}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Article Categories */}\r\n        <div className={'FlarumBlog-Article-Categories'}>\r\n          {this.tags.map((tag) => (\r\n            <button class=\"Button Button--text\" onclick={(e) => this.openTagsModal(e)}>\r\n              {tag.name()}\r\n            </button>\r\n          ))}\r\n\r\n          <button class=\"Button Button--text\" onclick={(e) => this.openTagsModal(e)}>\r\n            {this.tags.length === 0\r\n              ? app.translator.trans('v17development-flarum-blog.forum.composer.select_category')\r\n              : app.translator.trans('v17development-flarum-blog.forum.composer.edit_categories')}{' '}\r\n            <i className={'fas fa-edit'} />\r\n          </button>\r\n        </div>\r\n\r\n        <div className={'FlarumBlog-Article-Post'}>\r\n          {/* Article name */}\r\n          <h1 onclick={() => this.openNameArticleModal()} className=\"FlarumBlog-Article-Title\" style={{ cursor: 'pointer' }}>\r\n            {this.article && this.article.title() && this.article.title() !== ''\r\n              ? this.article.title()\r\n              : app.translator.trans('v17development-flarum-blog.forum.composer.no_title')}\r\n\r\n            <button class=\"Button Button--text\" onclick={(e) => e.preventDefault()}>\r\n              <i className={'fas fa-edit'} />\r\n            </button>\r\n          </h1>\r\n\r\n          <div className=\"Post-body\">\r\n            <Composer\r\n              composer={app.composer}\r\n              originalContent={''}\r\n              submitLabel={app.translator.trans('v17development-flarum-blog.forum.composer.post_article')}\r\n              placeholder={app.translator.trans('v17development-flarum-blog.forum.composer.enter_message_here')}\r\n              onsubmit={() => this.create()}\r\n              disabled={this.isSaving}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>,\r\n      100\r\n    );\r\n\r\n    items.add(\r\n      'commentsPlaceholder',\r\n      <div className=\"FlarumBlog-Article-Comments\">\r\n        <h4>{app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} (0)</h4>\r\n        {/* Locked */}\r\n\r\n        <div className=\"Post-body\">\r\n          <blockquote class=\"uncited\">\r\n            <div>\r\n              <span className=\"fas fa-ban\" style={{ marginRight: '5px' }} />{' '}\r\n              {app.translator.trans('v17development-flarum-blog.forum.composer.comment_section')}\r\n            </div>\r\n          </blockquote>\r\n        </div>\r\n      </div>,\r\n      90\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  create() {\r\n    const blogTags = app.forum.attribute('blogTags') || [];\r\n\r\n    // Force tags\r\n    if (this.tags.length === 0) {\r\n      this.openTagsModal();\r\n      return;\r\n    }\r\n\r\n    // Force title\r\n    if (!this.article.title() || this.article.title() === '') {\r\n      this.openNameArticleModal();\r\n      return;\r\n    }\r\n\r\n    // Find blog tags\r\n    const findblogTags = this.tags.filter((tag) => {\r\n      return blogTags.indexOf(tag.id()) >= 0;\r\n    });\r\n\r\n    // No blog tags selected\r\n    if (findblogTags.length === 0) {\r\n      alert(app.translator.trans('v17development-flarum-blog.forum.composer.no_blog_tags_selected'));\r\n      return;\r\n    }\r\n\r\n    if (\r\n      (this.blogMeta === null || (!this.blogMeta.featuredImage() && !app.forum.attribute('blogDefaultImage')) || !this.blogMeta.summary()) &&\r\n      !confirm(app.translator.trans('v17development-flarum-blog.forum.composer.post_without_blog_info'))\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    let relationships = {\r\n      tags: this.tags,\r\n    };\r\n\r\n    // Add languages if possible\r\n    if (this.languages.length > 0) {\r\n      relationships.language = app.store.getBy('discussion-languages', 'code', this.articleLanguage);\r\n    }\r\n\r\n    const data = {\r\n      title: this.article.title(),\r\n      content: app.composer.fields.content(),\r\n      relationships,\r\n      blogMeta:\r\n        this.blogMeta !== null\r\n          ? {\r\n              featuredImage: this.blogMeta.featuredImage(),\r\n              summary: this.blogMeta.summary(),\r\n              isSized: this.blogMeta.isSized(),\r\n            }\r\n          : null,\r\n    };\r\n\r\n    this.isSaving = true;\r\n\r\n    this.article\r\n      .save(data)\r\n      .then((article) => {\r\n        setTimeout(() => {\r\n          // Redirect to the article\r\n          m.route.set(app.route('blogArticle', { id: `${article.slug()}` }));\r\n        }, 500);\r\n      })\r\n      .catch(() => {\r\n        this.isSaving = false;\r\n        m.redraw();\r\n      });\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core;","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extractText'];","import Component from 'flarum/common/Component';\r\nimport Button from 'flarum/common/components/Button';\r\nimport extractText from 'flarum/common/utils/extractText';\r\nimport Tooltip from 'flarum/common/components/Tooltip';\r\n\r\nexport default class ArticleSubscription extends Component {\r\n  view() {\r\n    const currentSubscriptionState = this.attrs.discussion.subscription();\r\n\r\n    const preferences = app.session.user.preferences();\r\n    const notifyEmail = preferences['notify_newPost_email'];\r\n    const notifyTooltip = extractText(\r\n      app.translator.trans(\r\n        notifyEmail ? 'flarum-subscriptions.forum.sub_controls.notify_email_tooltip' : 'flarum-subscriptions.forum.sub_controls.notify_alert_tooltip'\r\n      )\r\n    );\r\n\r\n    let title = app.translator.trans('flarum-subscriptions.forum.sub_controls.not_following_button');\r\n    let icon = 'far fa-star';\r\n\r\n    // Following\r\n    if (currentSubscriptionState === 'follow') {\r\n      title = app.translator.trans('flarum-subscriptions.forum.sub_controls.following_button');\r\n      icon = 'fas fa-star';\r\n    }\r\n\r\n    return (\r\n      <Tooltip text={notifyTooltip} position=\"bottom\">\r\n        <Button\r\n          className={`Button BlogArticleSubscription SubscriptionMenu-button--${currentSubscriptionState}`}\r\n          icon={icon}\r\n          onclick={this.saveSubscription.bind(\r\n            this,\r\n            this.attrs.discussion,\r\n            ['follow', 'ignore'].indexOf(currentSubscriptionState) !== -1 ? null : 'follow'\r\n          )}\r\n        >\r\n          {title}\r\n        </Button>\r\n      </Tooltip>\r\n    );\r\n  }\r\n\r\n  saveSubscription(discussion, subscription) {\r\n    discussion.save({ subscription });\r\n  }\r\n}\r\n","import Component from 'flarum/common/Component';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport listItems from 'flarum/common/helpers/listItems';\r\nimport BlogAuthor from './BlogAuthor';\r\nimport BlogCategories from '../BlogCategories';\r\nimport ForumNav from '../ForumNav';\r\n\r\nexport default class BlogItemSidebar extends Component {\r\n  view() {\r\n    return (\r\n      <div className={'FlarumBlog-Article-Sidebar'}>\r\n        <ul>{listItems(this.items().toArray())}</ul>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  items() {\r\n    const itemlist = new ItemList();\r\n\r\n    itemlist.add('author', BlogAuthor.component(this.attrs), 0);\r\n\r\n    itemlist.add('categories', BlogCategories.component(this.attrs), 0);\r\n\r\n    itemlist.add('nav', ForumNav.component(this.attrs), 0);\r\n\r\n    return itemlist;\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/utils/DiscussionControls'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/EditPostComposer'];","import Component from 'flarum/common/Component';\r\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\r\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\r\nimport Alert from 'flarum/common/components/Alert';\r\nimport Button from 'flarum/common/components/Button';\r\nimport Dropdown from 'flarum/common/components/Dropdown';\r\nimport BlogPostSettingsModal from './Modals/BlogPostSettingsModal';\r\nimport EditPostComposer from 'flarum/forum/components/EditPostComposer';\r\nimport extractText from 'flarum/common/utils/extractText';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport RenameArticleModal from './Modals/RenameArticleModal';\r\nimport app from 'flarum/forum/app';\r\n\r\nexport default class BlogPostController extends Component {\r\n  init() {\r\n    this.loadedPost = false;\r\n  }\r\n\r\n  manageArticleButtons() {\r\n    const article = this.attrs.article;\r\n    const items = new ItemList();\r\n\r\n    // Working for GlowingBlue version\r\n    const LanguageDiscussionModal =\r\n      flarum.extensions['fof-discussion-language'] && typeof flarum.extensions['fof-discussion-language'].components !== 'undefined'\r\n        ? flarum.extensions['fof-discussion-language'].components.LanguageDiscussionModal\r\n        : null;\r\n\r\n    // Rename article\r\n    if (article.canRename()) {\r\n      items.add(\r\n        'rename',\r\n        Button.component(\r\n          {\r\n            className: 'Button',\r\n            onclick: () => app.modal.show(RenameArticleModal, { article }),\r\n            icon: 'fas fa-pencil-alt',\r\n          },\r\n          app.translator.trans('v17development-flarum-blog.forum.tools.rename_article')\r\n        ),\r\n        100\r\n      );\r\n    }\r\n\r\n    const articlePost = article.firstPost();\r\n\r\n    // Edit article\r\n    items.add(\r\n      'edit',\r\n      Button.component(\r\n        {\r\n          className: 'Button',\r\n          disabled: !articlePost || !articlePost.canEdit(),\r\n          onclick: () => {\r\n            app.composer.load(EditPostComposer, { post: articlePost });\r\n            app.composer.show();\r\n          },\r\n          icon: 'fas fa-edit',\r\n        },\r\n        app.translator.trans('v17development-flarum-blog.forum.tools.edit_article')\r\n      ),\r\n      90\r\n    );\r\n\r\n    // Article settings\r\n    items.add(\r\n      'articleSettings',\r\n      Button.component(\r\n        {\r\n          className: 'Button',\r\n          onclick: () => app.modal.show(BlogPostSettingsModal, { article }),\r\n          icon: 'fas fa-cogs',\r\n        },\r\n        app.translator.trans('v17development-flarum-blog.forum.tools.article_settings')\r\n      ),\r\n      80\r\n    );\r\n\r\n    // Update categories\r\n    if (article.canTag()) {\r\n      items.add(\r\n        'tag',\r\n        Button.component(\r\n          {\r\n            className: 'Button',\r\n            onclick: () => app.modal.show(TagDiscussionModal, { discussion: article }),\r\n            icon: 'fas fa-tag',\r\n          },\r\n          app.translator.trans('v17development-flarum-blog.forum.tools.update_category')\r\n        ),\r\n        70\r\n      );\r\n    }\r\n\r\n    // Approve article\r\n    if (article.blogMeta() && article.blogMeta().isPendingReview()) {\r\n      items.add('separator1', <li className=\"Dropdown-separator\" />, 65);\r\n\r\n      items.add(\r\n        'approve',\r\n        Button.component(\r\n          {\r\n            className: 'Button',\r\n            disabled: !app.forum.attribute('canApproveBlogPosts'),\r\n            onclick: () => {\r\n              article\r\n                .blogMeta()\r\n                .save({\r\n                  isPendingReview: false,\r\n                })\r\n                .then(\r\n                  () => {\r\n                    app.alerts.show(\r\n                      Alert,\r\n                      { type: 'success' },\r\n                      app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article_approved')\r\n                    );\r\n                  },\r\n                  (response) => {\r\n                    this.loading = false;\r\n                    this.handleErrors(response);\r\n                  }\r\n                );\r\n            },\r\n            icon: 'fas fa-thumbs-up',\r\n          },\r\n          app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article')\r\n        ),\r\n        60\r\n      );\r\n    }\r\n\r\n    // Language\r\n    if (article.canChangeLanguage && article.canChangeLanguage() && LanguageDiscussionModal) {\r\n      items.add(\r\n        'lang',\r\n        Button.component(\r\n          {\r\n            icon: 'fas fa-globe',\r\n            onclick: () => app.modal.show(LanguageDiscussionModal, { discussion: article }),\r\n          },\r\n          app.translator.trans('fof-discussion-language.forum.discussion_controls.change_language_button')\r\n        ),\r\n        50\r\n      );\r\n    }\r\n\r\n    items.add('separator2', <li className=\"Dropdown-separator\" />, 40);\r\n\r\n    // Lock article\r\n    if (article.canLock()) {\r\n      items.add(\r\n        'lock',\r\n        Button.component(\r\n          {\r\n            className: 'Button',\r\n            onclick: DiscussionControls.lockAction.bind(article),\r\n            icon: `fas ${article.isLocked() ? 'fa-comments' : 'fa-comment-slash'}`,\r\n          },\r\n          article.isLocked()\r\n            ? app.translator.trans('v17development-flarum-blog.forum.tools.enable_comments')\r\n            : app.translator.trans('v17development-flarum-blog.forum.tools.disable_comments')\r\n        ),\r\n        30\r\n      );\r\n    }\r\n\r\n    // Hide/show/delete\r\n    if (article.canHide()) {\r\n      // Article is hidden\r\n      if (article.isHidden()) {\r\n        // Recover article\r\n        items.add(\r\n          'recover',\r\n          Button.component(\r\n            {\r\n              className: 'Button',\r\n              onclick: DiscussionControls.restoreAction.bind(article),\r\n              icon: 'fas fa-eye',\r\n            },\r\n            app.translator.trans('v17development-flarum-blog.forum.tools.recover_article')\r\n          ),\r\n          20\r\n        );\r\n\r\n        // Delete article\r\n        if (article.canDelete()) {\r\n          items.add(\r\n            'delete',\r\n            Button.component(\r\n              {\r\n                className: 'Button',\r\n                onclick: () => {\r\n                  // Confirm deletion\r\n                  if (confirm(extractText(app.translator.trans('core.forum.discussion_controls.delete_confirmation')))) {\r\n                    // Redirect if the current page is an blog article\r\n                    if (app.history.getCurrent().name === 'blogArticle') {\r\n                      if (app.previous) {\r\n                        app.history.back();\r\n                      } else {\r\n                        m.route.set(app.route('blog'));\r\n                      }\r\n                    }\r\n\r\n                    return article.delete().then(() => {\r\n                      m.redraw();\r\n                    });\r\n                  }\r\n                },\r\n                icon: 'far fa-trash-alt',\r\n              },\r\n              app.translator.trans('v17development-flarum-blog.forum.tools.delete_forever')\r\n            ),\r\n            10\r\n          );\r\n        }\r\n      } else {\r\n        // Hide article\r\n        items.add(\r\n          'hide',\r\n          Button.component(\r\n            {\r\n              className: 'Button',\r\n              onclick: DiscussionControls.hideAction.bind(article),\r\n              icon: 'fas fa-eye-slash',\r\n            },\r\n            app.translator.trans('v17development-flarum-blog.forum.tools.hide_article')\r\n          ),\r\n          0\r\n        );\r\n      }\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  view() {\r\n    const article = this.attrs.article;\r\n\r\n    const articlePost = article.firstPost();\r\n\r\n    return (\r\n      <div className={'FlarumBlog-Article-Content-Edit-Button'}>\r\n        <div className={'FlarumBlog-Article-Content-Edit-Dropdown'}>\r\n          {Dropdown.component(\r\n            {\r\n              icon: 'fas fa-cog',\r\n              label: 'Manage',\r\n              buttonClassName: 'Button',\r\n              menuClassName: 'Dropdown-menu--right',\r\n              onshow: () => {\r\n                // Get post data to make sure they can edit the post\r\n                if (articlePost && !articlePost.canEdit() && !this.loadedPost) {\r\n                  this.loadedPost = true;\r\n                  m.redraw();\r\n                }\r\n              },\r\n            },\r\n            this.manageArticleButtons().toArray()\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/CommentPost'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/PostStream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/states/PostStreamState'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/fullTime'];","import Page from 'flarum/common/components/Page';\r\nimport IndexPage from 'flarum/components/IndexPage';\r\nimport CommentPost from 'flarum/forum/components/CommentPost';\r\nimport PostStream from 'flarum/forum/components/PostStream';\r\nimport PostStreamState from 'flarum/forum/states/PostStreamState';\r\nimport BlogPostController from '../components/BlogPostController';\r\nimport BlogItemSidebar from '../components/BlogItemSidebar/BlogItemSidebar';\r\nimport Link from 'flarum/common/components/Link';\r\nimport BlogOverview from './BlogOverview';\r\nimport fullTime from 'flarum/common/helpers/fullTime';\r\nimport ArticleSubscription from '../components/ArticleSubscription';\r\nimport classList from 'flarum/common/utils/classList';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport app from 'flarum/forum/app';\r\n\r\nexport default class BlogItem extends Page {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\r\n\r\n    // Send history push\r\n    app.history.push('blogArticle');\r\n\r\n    this.bodyClass = 'BlogItemPage';\r\n\r\n    this.near = m.route.param('near') || 0;\r\n\r\n    this.loading = true;\r\n    this.found = false;\r\n    this.article = null;\r\n\r\n    this.loadBlogItem();\r\n  }\r\n\r\n  // Load blog overview\r\n  loadBlogItem() {\r\n    const preloadBlogOverview = app.preloadedApiDocument();\r\n\r\n    if (preloadBlogOverview) {\r\n      // We must wrap this in a setTimeout because if we are mounting this\r\n      // component for the first time on page load, then any calls to m.redraw\r\n      // will be ineffective and thus any configs (scroll code) will be run\r\n      // before stuff is drawn to the page.\r\n      setTimeout(this.show.bind(this, preloadBlogOverview), 0);\r\n    } else {\r\n      app.store\r\n        .find('discussions', m.route.param('id').split('-')[0])\r\n        .then(this.show.bind(this))\r\n        .catch(() => {\r\n          m.redraw();\r\n        });\r\n    }\r\n\r\n    m.redraw();\r\n  }\r\n\r\n  // Show blog post\r\n  show(article) {\r\n    // Set article data\r\n    this.article = article;\r\n\r\n    // Update title\r\n    app.setTitle(`${article.title()} - ${app.translator.trans('v17development-flarum-blog.forum.blog')}`);\r\n\r\n    this.loading = false;\r\n\r\n    let includedPosts = [];\r\n    if (article.payload && article.payload.included) {\r\n      const articleId = article.id();\r\n\r\n      includedPosts = article.payload.included\r\n        .filter(\r\n          (record) =>\r\n            record.type === 'posts' &&\r\n            record.relationships &&\r\n            record.relationships.discussion &&\r\n            record.relationships.discussion.data.id === articleId\r\n        )\r\n        .map((record) => app.store.getById('posts', record.id))\r\n        .sort((a, b) => a.id() - b.id())\r\n        .slice(0, 20);\r\n    }\r\n\r\n    this.stream = new PostStreamState(article, includedPosts);\r\n\r\n    // Scroll to specific post\r\n    if (this.near) {\r\n      this.stream.goToNumber(this.near || 0, true).then(() => {\r\n        app.current.set('discussion', article);\r\n        app.current.set('stream', this.stream);\r\n      });\r\n    }\r\n\r\n    // Read post on load\r\n    if (app.session.user && !article.lastReadPostNumber()) {\r\n      article.save({ lastReadPostNumber: 1 });\r\n    }\r\n\r\n    m.redraw();\r\n  }\r\n\r\n  postItems() {\r\n    let articlePost = null;\r\n\r\n    if (!this.loading && this.article) {\r\n      articlePost = this.article?.firstPost?.();\r\n    }\r\n\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'title',\r\n      <h1\r\n        className={classList('FlarumBlog-Article-Title', {\r\n          'FlarumBlog-Article-GhostTitle': this.loading,\r\n        })}\r\n      >\r\n        {this?.article?.title?.() || 'Ghost title'}\r\n        {this.article?.isHidden?.() && `(${app.translator.trans('v17development-flarum-blog.forum.hidden')})`}\r\n      </h1>,\r\n      100\r\n    );\r\n\r\n    items.add(\r\n      'publishDate',\r\n      <div\r\n        className={classList('FlarumBlog-Article-PublishDate', {\r\n          'FlarumBlog-Article-GhostPublishDate': this.loading,\r\n        })}\r\n      >\r\n        {this.article ? fullTime(this.article.createdAt()) : <span>&nbsp;</span>}\r\n      </div>,\r\n      80\r\n    );\r\n\r\n    if (this.loading) {\r\n      items.add(\r\n        'skeleton',\r\n        [0, 1, 2].map(() => (\r\n          <div>\r\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\r\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\r\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\r\n            <p>&nbsp;</p>\r\n          </div>\r\n        )),\r\n        60\r\n      );\r\n    }\r\n\r\n    if (!this.loading) {\r\n      if (this.article.blogMeta?.()?.isPendingReview?.()) {\r\n        items.add(\r\n          'review',\r\n          <div className={'Post-body'}>\r\n            <blockquote class=\"uncited\" style={{ fontSize: '16px' }}>\r\n              <div>\r\n                {icon('far fa-clock', { style: { marginRight: '5px' } })}{' '}\r\n                {app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')}\r\n              </div>\r\n            </blockquote>\r\n          </div>,\r\n          60\r\n        );\r\n      }\r\n\r\n      if (articlePost) {\r\n        items.add('post', <CommentPost post={articlePost} />, 40);\r\n      }\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  contentItems() {\r\n    const defaultImage = app.forum.attribute('blogDefaultImage')\r\n      ? `url(${app.forum.attribute('baseUrl')}/assets/${app.forum.attribute('blogDefaultImage')})`\r\n      : null;\r\n\r\n    const blogImage = this.article?.blogMeta()?.featuredImage?.() ? `url(${this.article.blogMeta().featuredImage()})` : defaultImage;\r\n\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'image',\r\n      <div\r\n        className={classList('FlarumBlog-Article-Image FlarumBlog-default-image', { 'FlarumBlog-Article-GhostImage': this.loading })}\r\n        style={{\r\n          backgroundImage: blogImage,\r\n          opacity: this.article?.isHidden?.() ? 0.4 : null,\r\n        }}\r\n      />,\r\n      100\r\n    );\r\n\r\n    if (this.article && (app.session.user?.canEdit?.() || this.article?.canRename?.() || this.article?.posts?.()?.[0]?.canEdit?.())) {\r\n      items.add('editArticle', <BlogPostController article={this.article} />, 80);\r\n    }\r\n\r\n    // Article Categories\r\n    items.add(\r\n      'categories',\r\n      <div className=\"FlarumBlog-Article-Categories\">\r\n        {!this.loading && this.article?.tags?.()?.map((tag) => <Link href={app.route('blogCategory', { slug: tag.slug() })}>{tag.name()}</Link>)}\r\n\r\n        {this.loading && [0, 1].map(() => <span className=\"FlarumBlog-Article-GhostCategory\">Category</span>)}\r\n      </div>,\r\n      60\r\n    );\r\n\r\n    items.add('post', <div className={'FlarumBlog-Article-Post'}>{this.postItems().toArray()}</div>, 40);\r\n\r\n    return items;\r\n  }\r\n\r\n  articleItems() {\r\n    const items = new ItemList();\r\n\r\n    items.add('content', <div className=\"FlarumBlog-Article-Content\">{this.contentItems().toArray()}</div>, 100);\r\n\r\n    if (!(this?.article?.isLocked?.() && this?.article?.commentCount?.() === 1)) {\r\n      items.add(\r\n        'comments',\r\n        <div className={'FlarumBlog-Article-Comments'}>\r\n          {/* Show subscription state */}\r\n          {!this.loading &&\r\n            app.session.user &&\r\n            this.article.subscription &&\r\n            (!this.article.isLocked || (this.article.isLocked && !this.article.isLocked())) && <ArticleSubscription discussion={this.article} />}\r\n\r\n          <h4>\r\n            {app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} ({this.article ? this.article.commentCount() - 1 : 0})\r\n          </h4>\r\n\r\n          {/* Locked */}\r\n          {!this.loading && this.article?.isLocked?.() && (\r\n            <div className={'Post-body'}>\r\n              <blockquote class=\"uncited\">\r\n                <div>\r\n                  <span className={'far fa-lock'} style={{ marginRight: '5px' }} />{' '}\r\n                  {app.translator.trans('v17development-flarum-blog.forum.comment_section.locked')}\r\n                </div>\r\n              </blockquote>\r\n            </div>\r\n          )}\r\n\r\n          {!this.loading &&\r\n            this.article &&\r\n            PostStream.component({\r\n              discussion: this.article,\r\n              stream: this.stream,\r\n              onPositionChange: this.positionChanged.bind(this),\r\n            })}\r\n        </div>,\r\n        75\r\n      );\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  view() {\r\n    return [\r\n      app.forum.attribute('blogAddHero') == true && IndexPage.prototype.hero(),\r\n      <div className={'FlarumBlogItem'}>\r\n        <div className={'container'}>\r\n          <div className={'FlarumBlog-ToolButtons'}>\r\n            <Link\r\n              href={app.route('blog')}\r\n              className={'Button'}\r\n              onclick={(e) => {\r\n                if (app.previous.matches(BlogOverview)) {\r\n                  e.preventDefault();\r\n                  history.back();\r\n                }\r\n              }}\r\n            >\r\n              <i class=\"icon fas fa-angle-left Button-icon\"></i>\r\n              <span class=\"Button-label\">{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</span>\r\n            </Link>\r\n          </div>\r\n          <div className={'FlarumBlog-Article'}>\r\n            <div className={'FlarumBlog-Article-Container'}>{this.articleItems().toArray()}</div>\r\n\r\n            <BlogItemSidebar article={this.article} loading={this.loading} />\r\n          </div>\r\n        </div>\r\n      </div>,\r\n    ];\r\n  }\r\n\r\n  positionChanged(startNumber, endNumber) {\r\n    const article = this.article;\r\n\r\n    if (app.session.user && endNumber > (article.lastReadPostNumber() || 0)) {\r\n      article.save({ lastReadPostNumber: endNumber });\r\n      m.redraw();\r\n    }\r\n  }\r\n}\r\n","import { compat } from '@flarum/core/forum';\r\nimport BlogMeta from '../common/Models/BlogMeta';\r\nimport ArticleSubscription from './components/ArticleSubscription';\r\nimport BlogCategories from './components/BlogCategories';\r\nimport BlogAuthor from './components/BlogItemSidebar/BlogAuthor';\r\nimport BlogItemSidebar from './components/BlogItemSidebar/BlogItemSidebar';\r\nimport BlogOverviewItem from './components/BlogOverviewItem';\r\nimport BlogPostController from './components/BlogPostController';\r\nimport Composer from './components/Composer/Composer';\r\nimport ComposerPreview from './components/Composer/ComposerPreview';\r\nimport FeaturedBlogItem from './components/FeaturedBlogItem';\r\nimport ForumNav from './components/ForumNav';\r\nimport Language from './components/LanguageDropdown/Language';\r\nimport LanguageDropdown from './components/LanguageDropdown/LanguageDropdown';\r\nimport BlogPostSettingsModal from './components/Modals/BlogPostSettingsModal';\r\nimport RenameArticleModal from './components/Modals/RenameArticleModal';\r\nimport BlogItem from './pages/BlogItem';\r\nimport BlogOverview from './pages/BlogOverview';\r\n\r\nexport default () => {\r\n  Object.assign(compat, {\r\n    'v17development/blog/components/BlogItemSidebar': BlogItemSidebar,\r\n    'v17development/blog/components/BlogAuthor': BlogAuthor,\r\n\r\n    'v17development/blog/components/Composer/Composer': Composer,\r\n    'v17development/blog/components/Composer/ComposerPreview': ComposerPreview,\r\n\r\n    'v17development/blog/components/LanguageDropdown/Language': Language,\r\n    'v17development/blog/components/LanguageDropdown/LanguageDropdown': LanguageDropdown,\r\n\r\n    'v17development/blog/components/Modals/BlogPostSettingsModal': BlogPostSettingsModal,\r\n    'v17development/blog/components/Modals/RenameArticleModal': RenameArticleModal,\r\n\r\n    'v17development/blog/components/ArticleSubscription': ArticleSubscription,\r\n    'v17development/blog/components/BlogCategories': BlogCategories,\r\n    'v17development/blog/components/BlogOverviewItem': BlogOverviewItem,\r\n    'v17development/blog/components/BlogPostController': BlogPostController,\r\n    'v17development/blog/components/FeaturedBlogItem': FeaturedBlogItem,\r\n    'v17development/blog/components/ForumNav': ForumNav,\r\n\r\n    'v17development/blog/pages/BlogItem': BlogItem,\r\n    'v17development/blog/pages/BlogOverview': BlogOverview,\r\n\r\n    'v17development/blog/models/BlogMeta': BlogMeta,\r\n  });\r\n};\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","import { extend } from 'flarum/common/extend';\r\nimport IndexPage from 'flarum/forum/components/IndexPage';\r\nimport LinkButton from 'flarum/common/components/LinkButton';\r\n\r\nexport default function addSidebarNav() {\r\n  extend(IndexPage.prototype, 'navItems', function (items) {\r\n    if (app.forum.attribute('blogAddSidebarNav') && app.forum.attribute('blogAddSidebarNav') !== '0') {\r\n      items.add(\r\n        'blog',\r\n        <LinkButton icon=\"fas fa-comment\" href={app.route('blog')}>\r\n          {app.translator.trans('v17development-flarum-blog.forum.blog')}\r\n        </LinkButton>,\r\n        15\r\n      );\r\n    }\r\n\r\n    return items;\r\n  });\r\n}\r\n","import app from 'flarum/forum/app';\r\nimport Model from 'flarum/common/Model';\r\nimport Tag from 'flarum/tags/common/models/Tag';\r\nimport Discussion from 'flarum/common/models/Discussion';\r\nimport BlogOverview from './pages/BlogOverview';\r\nimport redirector from './utils/redirector';\r\nimport BlogMeta from '../common/Models/BlogMeta';\r\nimport extendTagOverview from './utils/extendTagOverview';\r\nimport discussionRouting from './utils/discussionRouting';\r\nimport BlogComposer from './pages/BlogComposer';\r\nimport compat from './compat';\r\nimport addSidebarNav from './utils/addSidebarNav';\r\n\r\nimport BlogItem from './pages/BlogItem';\r\n\r\n// Register Flarum Blog\r\napp.initializers.add(\r\n  'v17development-flarum-blog',\r\n  (app) => {\r\n    app.routes.blog = { path: '/blog', component: BlogOverview };\r\n\r\n    app.routes.blogCategory = {\r\n      path: '/blog/category/:slug',\r\n      component: BlogOverview,\r\n    };\r\n\r\n    app.routes.blogComposer = {\r\n      path: '/blog/compose',\r\n      component: BlogComposer,\r\n    };\r\n\r\n    app.routes.blogArticle = { path: '/blog/:id', component: BlogItem };\r\n\r\n    app.routes['blogArticle.near'] = {\r\n      path: '/blog/:id/:near',\r\n      component: BlogItem,\r\n    };\r\n\r\n    app.store.models.blogMeta = BlogMeta;\r\n\r\n    Discussion.prototype.blogMeta = Model.hasOne<BlogMeta>('blogMeta');\r\n    Tag.prototype.isBlog = Model.attribute<boolean>('isBlog');\r\n\r\n    // Redirect discussions/tags to their blog post/overview\r\n    redirector();\r\n\r\n    // Extend tag overview.\r\n    // Hide tags which are used as blog category\r\n    extendTagOverview();\r\n\r\n    // Make that blog articles have a blog route and not a discussion route\r\n    discussionRouting();\r\n\r\n    // Add a link to the blog to the IndexPage sidebar, if enabled.\r\n    addSidebarNav();\r\n  },\r\n  -100000\r\n);\r\n\r\ncompat();\r\n","import IndexPage from 'flarum/forum/components/IndexPage';\r\nimport DiscussionPage from 'flarum/forum/components/DiscussionPage';\r\nimport { extend, override } from 'flarum/common/extend';\r\nimport app from 'flarum/forum/app';\r\n\r\nexport default function () {\r\n  // Redirect tag to blog category\r\n  extend(IndexPage.prototype, 'oncreate', function () {\r\n    const tag = this.currentTag();\r\n    const tagRedirectEnabled = app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'tags_only';\r\n\r\n    // Only trigger when it's a tag page and the redirects are enabled\r\n    if (tag && tagRedirectEnabled) {\r\n      const blogTags = app.forum.attribute('blogTags');\r\n\r\n      // Tag is inside list\r\n      if (blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0)) {\r\n        m.route.set(app.route('blog'));\r\n      }\r\n    }\r\n  });\r\n\r\n  // Redirect discussion to blog article\r\n  override(DiscussionPage.prototype, 'show', function (original, discussion) {\r\n    const discussionRedirectEnabled =\r\n      app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\r\n\r\n    if (discussionRedirectEnabled && discussion && discussion && discussion.tags().length > 0) {\r\n      const blogTags = app.forum.attribute('blogTags');\r\n\r\n      const foundTags = discussion.tags().filter((tag) => {\r\n        return blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0);\r\n      });\r\n\r\n      // Only redirect if the discussion has blog tags\r\n      if (foundTags.length > 0) {\r\n        // Redirect to blog article\r\n        const url = app.route('blogArticle', {\r\n          id: discussion.slug(),\r\n        });\r\n\r\n        m.route.set(url, null, { replace: true });\r\n\r\n        return null;\r\n      }\r\n    }\r\n\r\n    return original(discussion);\r\n  });\r\n}\r\n"],"names":["module","exports","flarum","extensions","_typeof","require","_regeneratorRuntime","e","__esModule","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","this","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","definition","key","get","obj","prop","core","compat","_setPrototypeOf","bind","_inheritsLoose","subClass","superClass","BlogCategories","_Component","apply","arguments","_proto","oninit","vnode","blogCategories","app","forum","attribute","view","_this","m","className","translator","trans","map","tagId","tag","store","getById","tags","showSubTags","slug","route","param","all","_tag","isChild","parent","categoryItem","concat","Link","href","id","icon","style","backgroundColor","color","Component","Language","languages","options","reduce","lang","code","attrs","extra","_this$attrs","language","uppercase","toUpperCase","LanguageDropdown","selected","Dropdown","buttonClassName","label","defaultSelected","formatter","locale","active","Button","onclick","ForumNav","SelectDropdown","navItems","toArray","IndexPage","BlogOverviewItem","titleItems","_article$blogMeta","_article$blogMeta2","article","items","ItemList","add","'['","title","blogMeta","isPendingReview","isHidden","class","Tooltip","text","dataItems","_article$user","humanTime","createdAt","user","commentCount","contentItems","_article$blogMeta3","summary","getImage","_article$blogMeta4","defaultImage","featuredImage","_article$blogMeta5","_this$attrs2","blogImage","isSized","classList","backgroundImage","FeaturedBlogItem","topItems","_article$tags","isSticky","position","BlogOverview","_Page","bodyClass","isLoading","featuredPosts","posts","hasMore","isLoadingMore","currentSelectedLanguage","loadBlogOverview","featuredCount","parseInt","showCategories","showForumNav","preloadBlogOverview","setTimeout","show","reloadData","redraw","q","find","filter","sort","articles","payload","links","loadMore","replace","data","_this2","hero","newArticle","set","document","location","pathname","clear","Array","fill","state","loading","currentCategory","getBy","join","Page","BlogMeta","_mixin","mixin","Model","discussion","isFeatured","extendTagOverview","extend","TagsPage","markup","blogTags","tag_tiles_parent","findChild","tag_tiles","children","tile","indexOf","remove","childClass","recursive","maxDepth","depth","isArray","getChildren","child","_children$i","includes","_step","_iterator","_createForOfIteratorHelperLoose","subChild","original_discussion_route","near","shouldRedirect","lastReadPostNumber","BlogAuthor","author","username","avatar","bio","listItems","RenameArticleModal","_Modal","Stream","redirect","content","fields","placeholder","bidi","submitData","onsubmit","preventDefault","onChange","hide","save","url","window","history","replaceState","response","handleErrors","Modal","asyncGeneratorStep","gen","reject","_next","_throw","info","error","_asyncToGenerator","fn","self","args","err","BlogPostSettingsModal","meta","createRecord","isNew","exists","maxWidth","minWidth","width","minHeight","fofUploadButton","_require$components","components","Uploader","FileManagerModal","uploader","_callee","_context","onSelect","files","file","src","alt","marginTop","Switch","onchange","val","fontWeight","relationships","isComposer","pushData","attributes","ComposerPreview","oncreate","s9e","TextFormatter","preview","dom","Composer","_ComposerBody","previewContent","hasContent","composer","disabled","TextEditor","submitLabel","jumpToPreview","ComposerBody","BlogComposer","articleLanguage","tagList","split","foundTag","isSaving","openTagsModal","TagDiscussionModal","selectedTags","openNameArticleModal","_this3","openBlogSettings","_this4","pageItems","articleWrapperItems","articleItems","_this5","cursor","originalContent","marginRight","_this6","confirm","alert","ArticleSubscription","currentSubscriptionState","subscription","notifyEmail","session","preferences","notifyTooltip","extractText","saveSubscription","BlogItemSidebar","itemlist","component","BlogPostController","init","loadedPost","manageArticleButtons","LanguageDiscussionModal","canRename","articlePost","firstPost","canEdit","load","EditPostComposer","post","canTag","Alert","canChangeLanguage","canLock","DiscussionControls","isLocked","canHide","canDelete","getCurrent","back","menuClassName","onshow","BlogItem","found","loadBlogItem","includedPosts","included","articleId","record","b","stream","PostStreamState","goToNumber","postItems","_this$article2","_this$article3","_this$article","_this$article$blogMet","_this$article4","fullTime","fontSize","CommentPost","_this$article5","_this$article6","_app$session$user","_this$article7","_this$article8","_this$article9","opacity","_this$article10","_this$article11","_this$article12","PostStream","onPositionChange","positionChanged","matches","startNumber","endNumber","addSidebarNav","LinkButton","routes","blog","path","blogCategory","blogComposer","blogArticle","models","Discussion","Tag","isBlog","currentTag","tagRedirectEnabled","override","DiscussionPage","original","discussionRouting","assign"],"sourceRoot":""}